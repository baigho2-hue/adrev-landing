<UserControl x:Class="AdRev.Desktop.Views.Project.QualityCheckView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:AdRev.Desktop"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1200">
    <Grid Background="#F5F7F8">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Background="White" BorderBrush="#E0E0E0" BorderThickness="0,0,1,0" Padding="20">
            <StackPanel>
                <TextBlock Text="Contrôle Qualité" FontSize="18" FontWeight="Bold" Foreground="{StaticResource PrimaryBrush}" Margin="0,0,0,5"/>
                <TextBlock Text="Vérifiez la conformité de votre protocole." FontSize="12" Foreground="Gray" Margin="0,0,0,20"/>

                <TextBlock Text="Référentiel / Checklist" Style="{StaticResource LabelStyle}"/>
                <ComboBox x:Name="QualityChecklistCombo" Height="35" Margin="0,0,0,10" SelectionChanged="QualityChecklistCombo_SelectionChanged" DisplayMemberPath="Name"/>
                <TextBlock x:Name="QualityChecklistDesc" Text="Description du référentiel..." FontSize="11" Foreground="#888" TextWrapping="Wrap" Margin="0,0,0,10"/>
                
                <Button Content="Importer Critères (Excel)" Click="ImportCustomChecklist_Click" Style="{StaticResource MaterialDesignOutlinedButton}" Height="30" Padding="5,0"/>

                <Border Background="#E8F5E9" Padding="15" CornerRadius="5" Margin="0,20,0,0">
                    <StackPanel>
                        <TextBlock Text="Score de Qualité" FontWeight="Bold" Foreground="#2E7D32"/>
                        <TextBlock x:Name="QualityScoreText" Text="0 / 0" FontSize="24" FontWeight="Bold" Foreground="#2E7D32" Margin="0,5"/>
                        <ProgressBar x:Name="QualityScoreProgress" Height="8" Foreground="#2E7D32" Background="#C8E6C9"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <ScrollViewer Grid.Column="1" Padding="30">
            <StackPanel>
                <TextBlock x:Name="QualityChecklistTitle" Text="Checklist" FontSize="24" FontWeight="Bold" Foreground="#333" Margin="0,0,0,20"/>
                
                <!-- Dynamic Items Container -->
                <StackPanel x:Name="QualityItemsPanel"/>

                <Button Content="Générer Rapport de Conformité" Click="GenerateQualityReport_Click" HorizontalAlignment="Left" Margin="0,30,0,0" Padding="20,10" Background="{StaticResource SecondaryBrush}" Foreground="White">
                    <Button.Resources>
                        <Style TargetType="Border"><Setter Property="CornerRadius" Value="4"/></Style>
                    </Button.Resources>
                </Button>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
